<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Utility functions &mdash; mpmath v0.15 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '0.15',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="mpmath v0.15 documentation" href="index.html" />
    <link rel="next" title="Plotting" href="plotting.html" />
    <link rel="prev" title="Contexts" href="contexts.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="contexts.html" title="Contexts"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">mpmath v0.15 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="utility-functions">
<h1>Utility functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h1>
<p>This page lists functions that perform basic operations
on numbers or aid general programming.</p>
<div class="section" id="conversion-and-printing">
<h2>Conversion and printing<a class="headerlink" href="#conversion-and-printing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mpmathify-convert">
<h3><tt class="xref docutils literal"><span class="pre">mpmathify()</span></tt> / <tt class="xref docutils literal"><span class="pre">convert()</span></tt><a class="headerlink" href="#mpmathify-convert" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.mpmathify">
<tt class="descclassname">mpmath.</tt><tt class="descname">mpmathify</tt><big>(</big><em>x</em>, <em>strings=True</em><big>)</big><a class="headerlink" href="#mpmath.mpmathify" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <em>x</em> to an <tt class="docutils literal"><span class="pre">mpf</span></tt> or <tt class="docutils literal"><span class="pre">mpc</span></tt>. If <em>x</em> is of type <tt class="docutils literal"><span class="pre">mpf</span></tt>,
<tt class="docutils literal"><span class="pre">mpc</span></tt>, <tt class="docutils literal"><span class="pre">int</span></tt>, <tt class="docutils literal"><span class="pre">float</span></tt>, <tt class="docutils literal"><span class="pre">complex</span></tt>, the conversion
will be performed losslessly.</p>
<p>If <em>x</em> is a string, the result will be rounded to the present
working precision. Strings representing fractions or complex
numbers are permitted.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mpmathify</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">mpf(&#39;3.5&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mpmathify</span><span class="p">(</span><span class="s">&#39;2.1&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;2.1000000000000001&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mpmathify</span><span class="p">(</span><span class="s">&#39;3/4&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;0.75&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mpmathify</span><span class="p">(</span><span class="s">&#39;2+3j&#39;</span><span class="p">)</span>
<span class="go">mpc(real=&#39;2.0&#39;, imag=&#39;3.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="nstr">
<h3><tt class="xref docutils literal"><span class="pre">nstr()</span></tt><a class="headerlink" href="#nstr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.nstr">
<tt class="descclassname">mpmath.</tt><tt class="descname">nstr</tt><big>(</big><em>x</em>, <em>n=6</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.nstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an <tt class="docutils literal"><span class="pre">mpf</span></tt> or <tt class="docutils literal"><span class="pre">mpc</span></tt> to a decimal string literal with <em>n</em>
significant digits. The small default value for <em>n</em> is chosen to
make this function useful for printing collections of numbers
(lists, matrices, etc).</p>
<p>If <em>x</em> is a list or tuple, <a title="mpmath.nstr" class="reference internal" href="#mpmath.nstr"><tt class="xref docutils literal"><span class="pre">nstr()</span></tt></a> is applied recursively
to each element. For unrecognized classes, <a title="mpmath.nstr" class="reference internal" href="#mpmath.nstr"><tt class="xref docutils literal"><span class="pre">nstr()</span></tt></a>
simply returns <tt class="docutils literal"><span class="pre">str(x)</span></tt>.</p>
<p>The companion function <a title="mpmath.nprint" class="reference internal" href="#mpmath.nprint"><tt class="xref docutils literal"><span class="pre">nprint()</span></tt></a> prints the result
instead of returning it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nstr</span><span class="p">([</span><span class="o">+</span><span class="n">pi</span><span class="p">,</span> <span class="n">ldexp</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="o">-</span><span class="mf">500</span><span class="p">)])</span>
<span class="go">&#39;[3.14159, 3.05494e-151]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">([</span><span class="o">+</span><span class="n">pi</span><span class="p">,</span> <span class="n">ldexp</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="o">-</span><span class="mf">500</span><span class="p">)])</span>
<span class="go">[3.14159, 3.05494e-151]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="nprint">
<h3><tt class="xref docutils literal"><span class="pre">nprint()</span></tt><a class="headerlink" href="#nprint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.nprint">
<tt class="descclassname">mpmath.</tt><tt class="descname">nprint</tt><big>(</big><em>x</em>, <em>n=6</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.nprint" title="Permalink to this definition">¶</a></dt>
<dd>Equivalent to <tt class="docutils literal"><span class="pre">print</span> <span class="pre">nstr(x,</span> <span class="pre">n)</span></tt>.</dd></dl>

</div>
</div>
<div class="section" id="arithmetic-operations">
<h2>Arithmetic operations<a class="headerlink" href="#arithmetic-operations" title="Permalink to this headline">¶</a></h2>
<p>See also <a title="mpmath.sqrt" class="reference external" href="functions/powers.html#mpmath.sqrt"><tt class="xref docutils literal"><span class="pre">mpmath.sqrt()</span></tt></a>, <a title="mpmath.exp" class="reference external" href="functions/powers.html#mpmath.exp"><tt class="xref docutils literal"><span class="pre">mpmath.exp()</span></tt></a> etc., listed
in <a class="reference external" href="functions/powers.html"><em>Powers and logarithms</em></a></p>
<div class="section" id="fadd">
<h3><tt class="xref docutils literal"><span class="pre">fadd()</span></tt><a class="headerlink" href="#fadd" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fadd">
<tt class="descclassname">mpmath.</tt><tt class="descname">fadd</tt><big>(</big><em>ctx</em>, <em>x</em>, <em>y</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.fadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the numbers <em>x</em> and <em>y</em>, giving a floating-point result,
optionally using a custom precision and rounding mode.</p>
<p>The default precision is the working precision of the context.
You can specify a custom precision in bits by passing the <em>prec</em> keyword
argument, or by providing an equivalent decimal precision with the <em>dps</em>
keyword argument. If the precision is set to <tt class="docutils literal"><span class="pre">+inf</span></tt>, or if the flag
<em>exact=True</em> is passed, an exact addition with no rounding is performed.</p>
<p>When the precision is finite, the optional <em>rounding</em> keyword argument
specifies the direction of rounding. Valid options are <tt class="docutils literal"><span class="pre">'n'</span></tt> for
nearest (default), <tt class="docutils literal"><span class="pre">'f'</span></tt> for floor, <tt class="docutils literal"><span class="pre">'c'</span></tt> for ceiling, <tt class="docutils literal"><span class="pre">'d'</span></tt>
for down, <tt class="docutils literal"><span class="pre">'u'</span></tt> for up.</p>
<p><strong>Examples</strong></p>
<p>Using <a title="mpmath.fadd" class="reference internal" href="#mpmath.fadd"><tt class="xref docutils literal"><span class="pre">fadd()</span></tt></a> with precision and rounding control:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">)</span>
<span class="go">mpf(&#39;2.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">rounding</span><span class="o">=</span><span class="s">&#39;u&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;2.0000000000000004&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mf">100</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">2.00000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="mf">15</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="mf">25</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">2.00000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">2.00000000000000000001</span>
</pre></div>
</div>
<p>Exact addition avoids cancellation errors, enforcing familiar laws
of numbers such as <img class="math" src="_images/math/9d20854c1e9786fca3250a226216e9f14da61388.png" alt="x+y-x = y"/>, which don&#8217;t hold in floating-point
arithmetic with finite precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mpf</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span> <span class="n">mpf</span><span class="p">(</span><span class="s">&#39;1e-1000&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">fadd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="n">inf</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span>
<span class="go">1.0e-1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">fadd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span>
<span class="go">1.0e-1000</span>
</pre></div>
</div>
<p>Exact addition can be inefficient and may be impossible to perform
with large magnitude differences:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fadd</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="s">&#39;1e-100000000000000000000&#39;</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="n">inf</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">OverflowError</span>: <span class="n-Identifier">the exact result does not fit in memory</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fsub">
<h3><tt class="xref docutils literal"><span class="pre">fsub()</span></tt><a class="headerlink" href="#fsub" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fsub">
<tt class="descclassname">mpmath.</tt><tt class="descname">fsub</tt><big>(</big><em>ctx</em>, <em>x</em>, <em>y</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.fsub" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtracts the numbers <em>x</em> and <em>y</em>, giving a floating-point result,
optionally using a custom precision and rounding mode.</p>
<p>See the documentation of <a title="mpmath.fadd" class="reference internal" href="#mpmath.fadd"><tt class="xref docutils literal"><span class="pre">fadd()</span></tt></a> for a detailed description
of how to specify precision and rounding.</p>
<p><strong>Examples</strong></p>
<p>Using <a title="mpmath.fsub" class="reference internal" href="#mpmath.fsub"><tt class="xref docutils literal"><span class="pre">fsub()</span></tt></a> with precision and rounding control:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fsub</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">)</span>
<span class="go">mpf(&#39;2.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fsub</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">rounding</span><span class="o">=</span><span class="s">&#39;d&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;1.9999999999999998&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fsub</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mf">100</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">1.99999999999999999999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fsub</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="mf">15</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fsub</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="mf">25</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">1.99999999999999999999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fsub</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="mf">25</span><span class="p">)</span>
<span class="go">1.99999999999999999999</span>
</pre></div>
</div>
<p>Exact subtraction avoids cancellation errors, enforcing familiar laws
of numbers such as <img class="math" src="_images/math/47cedb5a22095cef482c3ac986b8cc5eb9831628.png" alt="x-y+y = x"/>, which don&#8217;t hold in floating-point
arithmetic with finite precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mpf</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span> <span class="n">mpf</span><span class="p">(</span><span class="s">&#39;1e1000&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">fsub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="n">inf</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">fsub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>Exact addition can be inefficient and may be impossible to perform
with large magnitude differences:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fsub</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="s">&#39;1e-100000000000000000000&#39;</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="n">inf</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">OverflowError</span>: <span class="n-Identifier">the exact result does not fit in memory</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fneg">
<h3><tt class="xref docutils literal"><span class="pre">fneg()</span></tt><a class="headerlink" href="#fneg" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fneg">
<tt class="descclassname">mpmath.</tt><tt class="descname">fneg</tt><big>(</big><em>ctx</em>, <em>x</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.fneg" title="Permalink to this definition">¶</a></dt>
<dd><p>Negates the number <em>x</em>, giving a floating-point result, optionally
using a custom precision and rounding mode.</p>
<p>See the documentation of <a title="mpmath.fadd" class="reference internal" href="#mpmath.fadd"><tt class="xref docutils literal"><span class="pre">fadd()</span></tt></a> for a detailed description
of how to specify precision and rounding.</p>
<p><strong>Examples</strong></p>
<p>An mpmath number is returned:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fneg</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="go">mpf(&#39;-2.5&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fneg</span><span class="p">(</span><span class="o">-</span><span class="mf">5</span><span class="o">+</span><span class="mf">2</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpc(real=&#39;5.0&#39;, imag=&#39;-2.0&#39;)</span>
</pre></div>
</div>
<p>Precise control over rounding is possible:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">fadd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1e-100</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fneg</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">mpf(&#39;-2.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fneg</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">rounding</span><span class="o">=</span><span class="s">&#39;f&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;-2.0000000000000004&#39;)</span>
</pre></div>
</div>
<p>Negating with and without roundoff:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mf">200000000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="n">mpf</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="go">-200000000000000016777216</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fneg</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="go">-200000000000000016777216</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fneg</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="n">log</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span><span class="o">+</span><span class="mf">1</span><span class="p">))</span>
<span class="go">-200000000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fneg</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="n">log</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mf">10</span><span class="p">)</span><span class="o">+</span><span class="mf">1</span><span class="p">))</span>
<span class="go">-200000000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fneg</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="n">inf</span><span class="p">))</span>
<span class="go">-200000000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fneg</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="n">inf</span><span class="p">))</span>
<span class="go">-200000000000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fneg</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="go">-200000000000000000000001</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fmul">
<h3><tt class="xref docutils literal"><span class="pre">fmul()</span></tt><a class="headerlink" href="#fmul" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fmul">
<tt class="descclassname">mpmath.</tt><tt class="descname">fmul</tt><big>(</big><em>ctx</em>, <em>x</em>, <em>y</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.fmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplies the numbers <em>x</em> and <em>y</em>, giving a floating-point result,
optionally using a custom precision and rounding mode.</p>
<p>See the documentation of <a title="mpmath.fadd" class="reference internal" href="#mpmath.fadd"><tt class="xref docutils literal"><span class="pre">fadd()</span></tt></a> for a detailed description
of how to specify precision and rounding.</p>
<p><strong>Examples</strong></p>
<p>The result is an mpmath number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmul</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="go">mpf(&#39;10.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmul</span><span class="p">(</span><span class="mf">0.5</span><span class="n">j</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="go">mpc(real=&#39;0.0&#39;, imag=&#39;0.25&#39;)</span>
</pre></div>
</div>
<p>Avoiding roundoff:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">10</span><span class="o">**</span><span class="mf">10</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="mf">10</span><span class="o">**</span><span class="mf">15</span><span class="o">+</span><span class="mf">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
<span class="go">10000000001000010000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mpf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">mpf</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">1.0000000001e+25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">mpf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">mpf</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="go">10000000001000011026399232</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="go">10000000001000011026399232</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="mf">25</span><span class="p">))</span>
<span class="go">10000000001000010000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">int</span><span class="p">(</span><span class="n">fmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="go">10000000001000010000000001</span>
</pre></div>
</div>
<p>Exact multiplication with complex numbers can be inefficient and may
be impossible to perform with large magnitude differences between
real and imaginary parts:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mf">1</span><span class="o">+</span><span class="mf">2</span><span class="n">j</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">mpc</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="s">&#39;1e-100000000000000000000&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">mpc(real=&#39;2.0&#39;, imag=&#39;4.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">rounding</span><span class="o">=</span><span class="s">&#39;u&#39;</span><span class="p">)</span>
<span class="go">mpc(real=&#39;2.0&#39;, imag=&#39;4.0000000000000009&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">OverflowError</span>: <span class="n-Identifier">the exact result does not fit in memory</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fdiv">
<h3><tt class="xref docutils literal"><span class="pre">fdiv()</span></tt><a class="headerlink" href="#fdiv" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fdiv">
<tt class="descclassname">mpmath.</tt><tt class="descname">fdiv</tt><big>(</big><em>ctx</em>, <em>x</em>, <em>y</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.fdiv" title="Permalink to this definition">¶</a></dt>
<dd><p>Divides the numbers <em>x</em> and <em>y</em>, giving a floating-point result,
optionally using a custom precision and rounding mode.</p>
<p>See the documentation of <a title="mpmath.fadd" class="reference internal" href="#mpmath.fadd"><tt class="xref docutils literal"><span class="pre">fadd()</span></tt></a> for a detailed description
of how to specify precision and rounding.</p>
<p><strong>Examples</strong></p>
<p>The result is an mpmath number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span> <span class="mf">2</span><span class="p">)</span>
<span class="go">mpf(&#39;1.5&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;0.66666666666666663&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="o">+</span><span class="mf">4</span><span class="n">j</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="go">mpc(real=&#39;4.0&#39;, imag=&#39;8.0&#39;)</span>
</pre></div>
</div>
<p>The rounding direction and precision can be controlled:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="n">dps</span><span class="o">=</span><span class="mf">3</span><span class="p">)</span>    <span class="c"># Should be accurate to at least 3 digits</span>
<span class="go">mpf(&#39;0.6666259765625&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="n">rounding</span><span class="o">=</span><span class="s">&#39;d&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;0.66666666666666663&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mf">60</span><span class="p">)</span>
<span class="go">mpf(&#39;0.66666666666666667&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="n">rounding</span><span class="o">=</span><span class="s">&#39;u&#39;</span><span class="p">)</span>
<span class="go">mpf(&#39;0.66666666666666674&#39;)</span>
</pre></div>
</div>
<p>Checking the error of a division by performing it at higher precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">)</span> <span class="o">-</span> <span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mf">100</span><span class="p">)</span>
<span class="go">mpf(&#39;-3.7007434154172148e-17&#39;)</span>
</pre></div>
</div>
<p>Unlike <a title="mpmath.fadd" class="reference internal" href="#mpmath.fadd"><tt class="xref docutils literal"><span class="pre">fadd()</span></tt></a>, <a title="mpmath.fmul" class="reference internal" href="#mpmath.fmul"><tt class="xref docutils literal"><span class="pre">fmul()</span></tt></a>, etc., exact division is not
allowed since the quotient of two floating-point numbers generally
does not have an exact floating-point representation. (In the
future this might be changed to allow the case where the division
is actually exact.)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fdiv</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">division is not an exact operation</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fmod">
<h3><tt class="xref docutils literal"><span class="pre">fmod()</span></tt><a class="headerlink" href="#fmod" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fmod">
<tt class="descclassname">mpmath.</tt><tt class="descname">fmod</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#mpmath.fmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> and <img class="math" src="_images/math/092e364e1d9d19ad5fffb0b46ef4cc7f2da02c1c.png" alt="y"/> to mpmath numbers and returns <img class="math" src="_images/math/f80dc582d3b3e35e603316ca7eab750b13579d0c.png" alt="x \mod y"/>.
For mpmath numbers, this is equivalent to <tt class="docutils literal"><span class="pre">x</span> <span class="pre">%</span> <span class="pre">y</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmod</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="n">pi</span><span class="p">)</span>
<span class="go">2.61062773871641</span>
</pre></div>
</div>
<p>You can use <a title="mpmath.fmod" class="reference internal" href="#mpmath.fmod"><tt class="xref docutils literal"><span class="pre">fmod()</span></tt></a> to compute fractional parts of numbers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fmod</span><span class="p">(</span><span class="mf">10.25</span><span class="p">,</span> <span class="mf">1</span><span class="p">)</span>
<span class="go">0.25</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fsum">
<h3><tt class="xref docutils literal"><span class="pre">fsum()</span></tt><a class="headerlink" href="#fsum" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fsum">
<tt class="descclassname">mpmath.</tt><tt class="descname">fsum</tt><big>(</big><em>terms</em>, <em>absolute=False</em>, <em>squared=False</em><big>)</big><a class="headerlink" href="#mpmath.fsum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a sum containing a finite number of terms (for infinite
series, see <a title="mpmath.nsum" class="reference external" href="calculus/sums_limits.html#mpmath.nsum"><tt class="xref docutils literal"><span class="pre">nsum()</span></tt></a>). The terms will be converted to
mpmath numbers. For len(terms) &gt; 2, this function is generally
faster and produces more accurate results than the builtin
Python function <tt class="xref docutils literal"><span class="pre">sum()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fsum</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">7</span><span class="p">])</span>
<span class="go">mpf(&#39;10.5&#39;)</span>
</pre></div>
</div>
<p>With squared=True each term is squared, and with absolute=True
the absolute value of each term is used.</p>
</dd></dl>

</div>
<div class="section" id="fprod">
<h3><tt class="xref docutils literal"><span class="pre">fprod()</span></tt><a class="headerlink" href="#fprod" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fprod">
<tt class="descclassname">mpmath.</tt><tt class="descname">fprod</tt><big>(</big><em>factors</em><big>)</big><a class="headerlink" href="#mpmath.fprod" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a product containing a finite number of factors (for
infinite products, see <a title="mpmath.nprod" class="reference external" href="calculus/sums_limits.html#mpmath.nprod"><tt class="xref docutils literal"><span class="pre">nprod()</span></tt></a>). The factors will be
converted to mpmath numbers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fprod</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">7</span><span class="p">])</span>
<span class="go">mpf(&#39;7.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fdot">
<h3><tt class="xref docutils literal"><span class="pre">fdot()</span></tt><a class="headerlink" href="#fdot" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fdot">
<tt class="descclassname">mpmath.</tt><tt class="descname">fdot</tt><big>(</big><em>A</em>, <em>B=None</em>, <em>conjugate=False</em><big>)</big><a class="headerlink" href="#mpmath.fdot" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the dot product of the iterables <img class="math" src="_images/math/019e9892786e493964e145e7c5cf7b700314e53b.png" alt="A"/> and <img class="math" src="_images/math/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" alt="B"/>,</p>
<div class="math">
<p><img src="_images/math/37d83206e1394dfe5222549274dd2953399d2b86.png" alt="\sum_{k=0} A_k B_k." /></p>
</div><p>Alternatively, <a title="mpmath.fdot" class="reference internal" href="#mpmath.fdot"><tt class="xref docutils literal"><span class="pre">fdot()</span></tt></a> accepts a single iterable of pairs.
In other words, <tt class="docutils literal"><span class="pre">fdot(A,B)</span></tt> and <tt class="docutils literal"><span class="pre">fdot(zip(A,B))</span></tt> are equivalent.
The elements are automatically converted to mpmath numbers.</p>
<p>With <tt class="docutils literal"><span class="pre">conjugate=True</span></tt>, the elements in the second vector
will be conjugated:</p>
<div class="math">
<p><img src="_images/math/b1ef81710d48a06aaddd0e0eab1e16fafa48bce9.png" alt="\sum_{k=0} A_k \overline{B_k}" /></p>
</div><p><strong>Examples</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="go">mpf(&#39;6.5&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">zip</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="go">[(2, 1), (1.5, -1), (3, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdot</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
<span class="go">mpf(&#39;6.5&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">3</span><span class="n">j</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="o">+</span><span class="n">j</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">1</span><span class="o">-</span><span class="n">j</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="go">mpc(real=&#39;9.5&#39;, imag=&#39;-1.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fdot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">conjugate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">mpc(real=&#39;3.5&#39;, imag=&#39;-5.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="complex-components">
<h2>Complex components<a class="headerlink" href="#complex-components" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fabs">
<h3><tt class="xref docutils literal"><span class="pre">fabs()</span></tt><a class="headerlink" href="#fabs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fabs">
<tt class="descclassname">mpmath.</tt><tt class="descname">fabs</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.fabs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute value of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, <img class="math" src="_images/math/49428192d366caf373c0af3c3261687f12b4c883.png" alt="|x|"/>. Unlike <tt class="xref docutils literal"><span class="pre">abs()</span></tt>,
<a title="mpmath.fabs" class="reference internal" href="#mpmath.fabs"><tt class="xref docutils literal"><span class="pre">fabs()</span></tt></a> converts non-mpmath numbers (such as <tt class="docutils literal"><span class="pre">int</span></tt>)
into mpmath numbers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fabs</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;3.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fabs</span><span class="p">(</span><span class="o">-</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;3.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fabs</span><span class="p">(</span><span class="mf">3</span><span class="o">+</span><span class="mf">4</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpf(&#39;5.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="sign">
<h3><tt class="xref docutils literal"><span class="pre">sign()</span></tt><a class="headerlink" href="#sign" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.sign">
<tt class="descclassname">mpmath.</tt><tt class="descname">sign</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sign of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, defined as <img class="math" src="_images/math/b2b59286ba7d6e09710d36eae21cedefa2521b4b.png" alt="\mathrm{sign}(x) = x / |x|"/>
(with the special case <img class="math" src="_images/math/11abee68bacbdfe2beaa2d1fcd2a751408d7e1cc.png" alt="\mathrm{sign}(0) = 0"/>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sign</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span>
<span class="go">mpf(&#39;1.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sign</span><span class="p">(</span><span class="o">-</span><span class="mf">10</span><span class="p">)</span>
<span class="go">mpf(&#39;-1.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sign</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="go">mpf(&#39;0.0&#39;)</span>
</pre></div>
</div>
<p>Note that the sign function is also defined for complex numbers,
for which it gives the projection onto the unit circle:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sign</span><span class="p">(</span><span class="mf">1</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="go">(0.707106781186547 + 0.707106781186547j)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="re">
<h3><tt class="xref docutils literal"><span class="pre">re()</span></tt><a class="headerlink" href="#re" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.re">
<tt class="descclassname">mpmath.</tt><tt class="descname">re</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.re" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the real part of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, <img class="math" src="_images/math/b997fd37cd7877511801547e80ebbf1f1542e0c9.png" alt="\Re(x)"/>. Unlike <tt class="docutils literal"><span class="pre">x.real</span></tt>,
<a title="mpmath.re" class="reference internal" href="#mpmath.re"><tt class="xref docutils literal"><span class="pre">re()</span></tt></a> converts <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> to a mpmath number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">re</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;3.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">re</span><span class="p">(</span><span class="o">-</span><span class="mf">1</span><span class="o">+</span><span class="mf">4</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpf(&#39;-1.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="im">
<h3><tt class="xref docutils literal"><span class="pre">im()</span></tt><a class="headerlink" href="#im" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.im">
<tt class="descclassname">mpmath.</tt><tt class="descname">im</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.im" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the imaginary part of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, <img class="math" src="_images/math/836603b7b4095dd04119fbfd4991b24e16be523f.png" alt="\Im(x)"/>. Unlike <tt class="docutils literal"><span class="pre">x.imag</span></tt>,
<a title="mpmath.im" class="reference internal" href="#mpmath.im"><tt class="xref docutils literal"><span class="pre">im()</span></tt></a> converts <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> to a mpmath number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;0.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="p">(</span><span class="o">-</span><span class="mf">1</span><span class="o">+</span><span class="mf">4</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpf(&#39;4.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="arg">
<h3><tt class="xref docutils literal"><span class="pre">arg()</span></tt><a class="headerlink" href="#arg" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.arg">
<tt class="descclassname">mpmath.</tt><tt class="descname">arg</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the complex argument (phase) of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, defined as the
signed angle between the positive real axis and <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> in the
complex plane:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg</span><span class="p">(</span><span class="mf">3</span><span class="o">+</span><span class="mf">3</span><span class="n">j</span><span class="p">)</span>
<span class="go">0.785398163397448</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg</span><span class="p">(</span><span class="mf">3</span><span class="n">j</span><span class="p">)</span>
<span class="go">1.5707963267949</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg</span><span class="p">(</span><span class="o">-</span><span class="mf">3</span><span class="p">)</span>
<span class="go">3.14159265358979</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg</span><span class="p">(</span><span class="o">-</span><span class="mf">3</span><span class="n">j</span><span class="p">)</span>
<span class="go">-1.5707963267949</span>
</pre></div>
</div>
<p>The angle is defined to satisfy <img class="math" src="_images/math/fcfcb71dcf9ed5528f180f5f0f0b3a6033da1422.png" alt="-\pi &lt; \arg(x) \le \pi"/> and
with the sign convention that a nonnegative imaginary part
results in a nonnegative argument.</p>
<p>The value returned by <a title="mpmath.arg" class="reference internal" href="#mpmath.arg"><tt class="xref docutils literal"><span class="pre">arg()</span></tt></a> is an <tt class="docutils literal"><span class="pre">mpf</span></tt> instance.</p>
</dd></dl>

</div>
<div class="section" id="conj">
<h3><tt class="xref docutils literal"><span class="pre">conj()</span></tt><a class="headerlink" href="#conj" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.conj">
<tt class="descclassname">mpmath.</tt><tt class="descname">conj</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the complex conjugate of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, <img class="math" src="_images/math/cd9d9d7da773d694be33df9af513af204628e732.png" alt="\overline{x}"/>. Unlike
<tt class="docutils literal"><span class="pre">x.conjugate()</span></tt>, <a title="mpmath.im" class="reference internal" href="#mpmath.im"><tt class="xref docutils literal"><span class="pre">im()</span></tt></a> converts <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> to a mpmath number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conj</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;3.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conj</span><span class="p">(</span><span class="o">-</span><span class="mf">1</span><span class="o">+</span><span class="mf">4</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpc(real=&#39;-1.0&#39;, imag=&#39;-4.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="polar">
<h3><tt class="xref docutils literal"><span class="pre">polar()</span></tt><a class="headerlink" href="#polar" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.polar">
<tt class="descclassname">mpmath.</tt><tt class="descname">polar</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.polar" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the polar representation of the complex number <img class="math" src="_images/math/b13f21416d84e13708696f34dea81026cda583c9.png" alt="z"/>
as a pair <img class="math" src="_images/math/d7c992275a5d448bd196f7a9d095111521c42a33.png" alt="(r, \phi)"/> such that <img class="math" src="_images/math/38a885b03ee8902b8150b41d9244b425f9adc6a1.png" alt="z = r e^{i \phi}"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polar</span><span class="p">(</span><span class="o">-</span><span class="mf">2</span><span class="p">)</span>
<span class="go">(2.0, 3.14159265358979)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polar</span><span class="p">(</span><span class="mf">3</span><span class="o">-</span><span class="mf">4</span><span class="n">j</span><span class="p">)</span>
<span class="go">(5.0, -0.927295218001612)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="rect">
<h3><tt class="xref docutils literal"><span class="pre">rect()</span></tt><a class="headerlink" href="#rect" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.rect">
<tt class="descclassname">mpmath.</tt><tt class="descname">rect</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the complex number represented by polar
coordinates <img class="math" src="_images/math/d7c992275a5d448bd196f7a9d095111521c42a33.png" alt="(r, \phi)"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chop</span><span class="p">(</span><span class="n">rect</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="n">pi</span><span class="p">))</span>
<span class="go">-2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rect</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span> <span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="mf">4</span><span class="p">)</span>
<span class="go">(1.0 - 1.0j)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="integer-and-fractional-parts">
<h2>Integer and fractional parts<a class="headerlink" href="#integer-and-fractional-parts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="floor">
<h3><tt class="xref docutils literal"><span class="pre">floor()</span></tt><a class="headerlink" href="#floor" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.floor">
<tt class="descclassname">mpmath.</tt><tt class="descname">floor</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the floor of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, <img class="math" src="_images/math/06681f5b345750104366c512078960fee8d81b49.png" alt="\lfloor x \rfloor"/>, defined as
the largest integer less than or equal to <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">floor</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">mpf(&#39;3.0&#39;)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a title="mpmath.floor" class="reference internal" href="#mpmath.floor"><tt class="xref docutils literal"><span class="pre">floor()</span></tt></a>, <a title="mpmath.ceil" class="reference internal" href="#mpmath.ceil"><tt class="xref docutils literal"><span class="pre">ceil()</span></tt></a> and <a title="mpmath.nint" class="reference internal" href="#mpmath.nint"><tt class="xref docutils literal"><span class="pre">nint()</span></tt></a> return a
floating-point number, not a Python <tt class="docutils literal"><span class="pre">int</span></tt>. If <img class="math" src="_images/math/06681f5b345750104366c512078960fee8d81b49.png" alt="\lfloor x \rfloor"/> is
too large to be represented exactly at the present working precision,
the result will be rounded, not necessarily in the direction
implied by the mathematical definition of the function.</p>
</div>
<p>To avoid rounding, use <em>prec=0</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="mf">10</span><span class="o">**</span><span class="mf">30</span><span class="o">+</span><span class="mf">1</span><span class="p">))</span>
<span class="go">1000000000000000019884624838656L</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="mf">10</span><span class="o">**</span><span class="mf">30</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mf">0</span><span class="p">))</span>
<span class="go">1000000000000000000000000000001L</span>
</pre></div>
</div>
<p>The floor function is defined for complex numbers and
acts on the real and imaginary parts separately:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">floor</span><span class="p">(</span><span class="mf">3.25</span><span class="o">+</span><span class="mf">4.75</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpc(real=&#39;3.0&#39;, imag=&#39;4.0&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="ceil">
<h3><tt class="xref docutils literal"><span class="pre">ceil()</span></tt><a class="headerlink" href="#ceil" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.ceil">
<tt class="descclassname">mpmath.</tt><tt class="descname">ceil</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.ceil" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the ceiling of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, <img class="math" src="_images/math/1a7cd7095a9b123f81967d8d3b14d1e02b0174e7.png" alt="\lceil x \rceil"/>, defined as
the smallest integer greater than or equal to <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ceil</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">mpf(&#39;4.0&#39;)</span>
</pre></div>
</div>
<p>The ceiling function is defined for complex numbers and
acts on the real and imaginary parts separately:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ceil</span><span class="p">(</span><span class="mf">3.25</span><span class="o">+</span><span class="mf">4.75</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpc(real=&#39;4.0&#39;, imag=&#39;5.0&#39;)</span>
</pre></div>
</div>
<p>See notes about rounding for <a title="mpmath.floor" class="reference internal" href="#mpmath.floor"><tt class="xref docutils literal"><span class="pre">floor()</span></tt></a>.</p>
</dd></dl>

</div>
<div class="section" id="nint">
<h3><tt class="xref docutils literal"><span class="pre">nint()</span></tt><a class="headerlink" href="#nint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.nint">
<tt class="descclassname">mpmath.</tt><tt class="descname">nint</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.nint" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the nearest integer function, <img class="math" src="_images/math/5a0df52cac546b772e2e621d9a04c2f410144193.png" alt="\mathrm{nint}(x)"/>.
This gives the nearest integer to <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>; on a tie, it
gives the nearest even integer:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nint</span><span class="p">(</span><span class="mf">3.2</span><span class="p">)</span>
<span class="go">mpf(&#39;3.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nint</span><span class="p">(</span><span class="mf">3.8</span><span class="p">)</span>
<span class="go">mpf(&#39;4.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nint</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">mpf(&#39;4.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nint</span><span class="p">(</span><span class="mf">4.5</span><span class="p">)</span>
<span class="go">mpf(&#39;4.0&#39;)</span>
</pre></div>
</div>
<p>The nearest integer function is defined for complex numbers and
acts on the real and imaginary parts separately:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">nint</span><span class="p">(</span><span class="mf">3.25</span><span class="o">+</span><span class="mf">4.75</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpc(real=&#39;3.0&#39;, imag=&#39;5.0&#39;)</span>
</pre></div>
</div>
<p>See notes about rounding for <a title="mpmath.floor" class="reference internal" href="#mpmath.floor"><tt class="xref docutils literal"><span class="pre">floor()</span></tt></a>.</p>
</dd></dl>

</div>
<div class="section" id="frac">
<h3><tt class="xref docutils literal"><span class="pre">frac()</span></tt><a class="headerlink" href="#frac" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.frac">
<tt class="descclassname">mpmath.</tt><tt class="descname">frac</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.frac" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives the fractional part of <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, defined as
<img class="math" src="_images/math/e77148fb34397e3740fb5bf7685219c1eb9f7c3d.png" alt="\mathrm{frac}(x) = x - \lfloor x \rfloor"/> (see <a title="mpmath.floor" class="reference internal" href="#mpmath.floor"><tt class="xref docutils literal"><span class="pre">floor()</span></tt></a>).
In effect, this computes <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> modulo 1, or <img class="math" src="_images/math/9199365990d02de8774ce63d672277f38a78a255.png" alt="x+n"/> where
<img class="math" src="_images/math/deb2f72d06607835f0e9e8af5587ba8f9abb2cfa.png" alt="n \in \mathbb{Z}"/> is such that <img class="math" src="_images/math/df74cddcc46932cf7f4022e718ee475f891687bc.png" alt="x+n \in [0,1)"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frac</span><span class="p">(</span><span class="mf">1.25</span><span class="p">)</span>
<span class="go">mpf(&#39;0.25&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frac</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;0.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frac</span><span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">)</span>
<span class="go">mpf(&#39;0.75&#39;)</span>
</pre></div>
</div>
<p>For a complex number, the fractional part function applies to
the real and imaginary parts separately:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">frac</span><span class="p">(</span><span class="mf">2.25</span><span class="o">+</span><span class="mf">3.75</span><span class="n">j</span><span class="p">)</span>
<span class="go">mpc(real=&#39;0.25&#39;, imag=&#39;0.75&#39;)</span>
</pre></div>
</div>
<p>Plotted, the fractional part function gives a sawtooth
wave. The Fourier series coefficients have a simple
form:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">fourier</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">frac</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="mf">1</span><span class="p">],</span> <span class="mf">4</span><span class="p">))</span>
<span class="go">([0.0, 0.0, 0.0, 0.0, 0.0], [0.0, -0.31831, -0.159155, -0.106103, -0.0795775])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">([</span><span class="o">-</span><span class="mf">1</span><span class="o">/</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">5</span><span class="p">)])</span>
<span class="go">[-0.31831, -0.159155, -0.106103, -0.0795775]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The fractional part is sometimes defined as a symmetric
function, i.e. returning <img class="math" src="_images/math/cc6e09ff2e83743962b86812d353cc571cdf1dbe.png" alt="-\mathrm{frac}(-x)"/> if <img class="math" src="_images/math/36a68e8aa6ec6f48231ad80a4851f84bacf641b3.png" alt="x &lt; 0"/>.
This convention is used, for instance, by Mathematica&#8217;s
<tt class="docutils literal"><span class="pre">FractionalPart</span></tt>.</p>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="tolerances-and-approximate-comparisons">
<h2>Tolerances and approximate comparisons<a class="headerlink" href="#tolerances-and-approximate-comparisons" title="Permalink to this headline">¶</a></h2>
<div class="section" id="chop">
<h3><tt class="xref docutils literal"><span class="pre">chop()</span></tt><a class="headerlink" href="#chop" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.chop">
<tt class="descclassname">mpmath.</tt><tt class="descname">chop</tt><big>(</big><em>x</em>, <em>tol=None</em><big>)</big><a class="headerlink" href="#mpmath.chop" title="Permalink to this definition">¶</a></dt>
<dd><p>Chops off small real or imaginary parts, or converts
numbers close to zero to exact zeros. The input can be a
single number or an iterable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chop</span><span class="p">(</span><span class="mf">5</span><span class="o">+</span><span class="mf">1e-10</span><span class="n">j</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-9</span><span class="p">)</span>
<span class="go">mpf(&#39;5.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nprint</span><span class="p">(</span><span class="n">chop</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1e-20</span><span class="p">,</span> <span class="mf">3</span><span class="o">+</span><span class="mf">1e-18</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="mf">4</span><span class="p">,</span> <span class="mf">2</span><span class="p">]))</span>
<span class="go">[1.0, 0.0, 3.0, -4.0, 2.0]</span>
</pre></div>
</div>
<p>The tolerance defaults to <tt class="docutils literal"><span class="pre">100*eps</span></tt>.</p>
</dd></dl>

</div>
<div class="section" id="almosteq">
<h3><tt class="xref docutils literal"><span class="pre">almosteq()</span></tt><a class="headerlink" href="#almosteq" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.almosteq">
<tt class="descclassname">mpmath.</tt><tt class="descname">almosteq</tt><big>(</big><em>s</em>, <em>t</em>, <em>rel_eps=None</em>, <em>abs_eps=None</em><big>)</big><a class="headerlink" href="#mpmath.almosteq" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the difference between <img class="math" src="_images/math/f37bba504894945c07a32f5496d74299a37aa51c.png" alt="s"/> and <img class="math" src="_images/math/e0d2bf360290fd61d1c1557e763f2622363b3d35.png" alt="t"/> is smaller
than a given epsilon, either relatively or absolutely.</p>
<p>Both a maximum relative difference and a maximum difference
(&#8216;epsilons&#8217;) may be specified. The absolute difference is
defined as <img class="math" src="_images/math/e43336773e09f890830647398e0568b5e3cc6b91.png" alt="|s-t|"/> and the relative difference is defined
as <img class="math" src="_images/math/1820f9d942344fc3fef9d672d9637900955f5bfd.png" alt="|s-t|/\max(|s|, |t|)"/>.</p>
<p>If only one epsilon is given, both are set to the same value.
If none is given, both epsilons are set to <img class="math" src="_images/math/92b6afe095bb49d29148db70c844cd6ed78f60a3.png" alt="2^{-p+m}"/> where
<img class="math" src="_images/math/36f73fc1312ee0349b3f3a0f3bd9eb5504339011.png" alt="p"/> is the current working precision and <img class="math" src="_images/math/f5047d1e0cbb50ec208923a22cd517c55100fa7b.png" alt="m"/> is a small
integer. The default setting typically allows <a title="mpmath.almosteq" class="reference internal" href="#mpmath.almosteq"><tt class="xref docutils literal"><span class="pre">almosteq()</span></tt></a>
to be used to check for mathematical equality
in the presence of small rounding errors.</p>
<p><strong>Examples</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almosteq</span><span class="p">(</span><span class="mf">3.141592653589793</span><span class="p">,</span> <span class="mf">3.141592653589790</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almosteq</span><span class="p">(</span><span class="mf">3.141592653589793</span><span class="p">,</span> <span class="mf">3.141592653589700</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almosteq</span><span class="p">(</span><span class="mf">3.141592653589793</span><span class="p">,</span> <span class="mf">3.141592653589700</span><span class="p">,</span> <span class="mf">1e-10</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almosteq</span><span class="p">(</span><span class="mf">1e-20</span><span class="p">,</span> <span class="mf">2e-20</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almosteq</span><span class="p">(</span><span class="mf">1e-20</span><span class="p">,</span> <span class="mf">2e-20</span><span class="p">,</span> <span class="n">rel_eps</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span> <span class="n">abs_eps</span><span class="o">=</span><span class="mf">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="properties-of-numbers">
<h2>Properties of numbers<a class="headerlink" href="#properties-of-numbers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="isinf">
<h3><tt class="xref docutils literal"><span class="pre">isinf()</span></tt><a class="headerlink" href="#isinf" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.isinf">
<tt class="descclassname">mpmath.</tt><tt class="descname">isinf</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.isinf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>True</em> if the absolute value of <em>x</em> is infinite;
otherwise return <em>False</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isinf</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isinf</span><span class="p">(</span><span class="o">-</span><span class="n">inf</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isinf</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isinf</span><span class="p">(</span><span class="mf">3</span><span class="o">+</span><span class="mf">4</span><span class="n">j</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isinf</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="n">inf</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isinf</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="n">inf</span><span class="p">,</span><span class="mf">3</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="isnan">
<h3><tt class="xref docutils literal"><span class="pre">isnan()</span></tt><a class="headerlink" href="#isnan" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.isnan">
<tt class="descclassname">mpmath.</tt><tt class="descname">isnan</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.isnan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>True</em> if <em>x</em> is a NaN (not-a-number), or for a complex
number, whether either the real or complex part is NaN;
otherwise return <em>False</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnan</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnan</span><span class="p">(</span><span class="n">nan</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnan</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span><span class="mf">2.72</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnan</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span><span class="n">nan</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="isnormal">
<h3><tt class="xref docutils literal"><span class="pre">isnormal()</span></tt><a class="headerlink" href="#isnormal" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.isnormal">
<tt class="descclassname">mpmath.</tt><tt class="descname">isnormal</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.isnormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether <em>x</em> is &#8220;normal&#8221; in the sense of floating-point
representation; that is, return <em>False</em> if <em>x</em> is zero, an
infinity or NaN; otherwise return <em>True</em>. By extension, a
complex number <em>x</em> is considered &#8220;normal&#8221; if its magnitude is
normal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnormal</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnormal</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnormal</span><span class="p">(</span><span class="n">inf</span><span class="p">);</span> <span class="n">isnormal</span><span class="p">(</span><span class="o">-</span><span class="n">inf</span><span class="p">);</span> <span class="n">isnormal</span><span class="p">(</span><span class="n">nan</span><span class="p">)</span>
<span class="go">False</span>
<span class="go">False</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnormal</span><span class="p">(</span><span class="mf">0</span><span class="o">+</span><span class="mf">0</span><span class="n">j</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnormal</span><span class="p">(</span><span class="mf">0</span><span class="o">+</span><span class="mf">3</span><span class="n">j</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnormal</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="n">nan</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="isint">
<h3><tt class="xref docutils literal"><span class="pre">isint()</span></tt><a class="headerlink" href="#isint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.isint">
<tt class="descclassname">mpmath.</tt><tt class="descname">isint</tt><big>(</big><em>x</em>, <em>gaussian=False</em><big>)</big><a class="headerlink" href="#mpmath.isint" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>True</em> if <em>x</em> is integer-valued; otherwise return
<em>False</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="n">mpf</span><span class="p">(</span><span class="mf">3</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="mf">3.2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Optionally, Gaussian integers can be checked for:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="mf">3</span><span class="o">+</span><span class="mf">0</span><span class="n">j</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="mf">3</span><span class="o">+</span><span class="mf">2</span><span class="n">j</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isint</span><span class="p">(</span><span class="mf">3</span><span class="o">+</span><span class="mf">2</span><span class="n">j</span><span class="p">,</span> <span class="n">gaussian</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="ldexp">
<h3><tt class="xref docutils literal"><span class="pre">ldexp()</span></tt><a class="headerlink" href="#ldexp" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.ldexp">
<tt class="descclassname">mpmath.</tt><tt class="descname">ldexp</tt><big>(</big><em>x</em>, <em>n</em><big>)</big><a class="headerlink" href="#mpmath.ldexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes <img class="math" src="_images/math/97a885de4ed6de4d7aa8f6c4a5baa9c7cefbe640.png" alt="x 2^n"/> efficiently. No rounding is performed.
The argument <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> must be a real floating-point number (or
possible to convert into one) and <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> must be a Python <tt class="docutils literal"><span class="pre">int</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ldexp</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span>
<span class="go">mpf(&#39;1024.0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ldexp</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">3</span><span class="p">)</span>
<span class="go">mpf(&#39;0.125&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="frexp">
<h3><tt class="xref docutils literal"><span class="pre">frexp()</span></tt><a class="headerlink" href="#frexp" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.frexp">
<tt class="descclassname">mpmath.</tt><tt class="descname">frexp</tt><big>(</big><em>x</em>, <em>n</em><big>)</big><a class="headerlink" href="#mpmath.frexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a real number <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/>, returns <img class="math" src="_images/math/3e1c2368f88933a1a0062bce03e695ac95ad41bc.png" alt="(y, n)"/> with <img class="math" src="_images/math/27b4664469f28fe9f4c30bd8aaad9354aa66e354.png" alt="y \in [0.5, 1)"/>,
<img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> a Python integer, and such that <img class="math" src="_images/math/6bf0d8bf86a6fd9fbcb5829e704d559564903d77.png" alt="x = y 2^n"/>. No rounding is
performed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frexp</span><span class="p">(</span><span class="mf">7.5</span><span class="p">)</span>
<span class="go">(mpf(&#39;0.9375&#39;), 3)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="mag">
<h3><tt class="xref docutils literal"><span class="pre">mag()</span></tt><a class="headerlink" href="#mag" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.mag">
<tt class="descclassname">mpmath.</tt><tt class="descname">mag</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.mag" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick logarithmic magnitude estimate of a number. Returns an
integer or infinity <img class="math" src="_images/math/f5047d1e0cbb50ec208923a22cd517c55100fa7b.png" alt="m"/> such that <img class="math" src="_images/math/2950f616ea8758d9c2f9b301962b7a542d7eb92b.png" alt="|x| &lt;= 2^m"/>. It is not
guaranteed that <img class="math" src="_images/math/f5047d1e0cbb50ec208923a22cd517c55100fa7b.png" alt="m"/> is an optimal bound, but it will never
be too large by more than 2 (and probably not more than 1).</p>
<p><strong>Examples</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mag</span><span class="p">(</span><span class="mf">10</span><span class="p">),</span> <span class="n">mag</span><span class="p">(</span><span class="mf">10.0</span><span class="p">),</span> <span class="n">mag</span><span class="p">(</span><span class="n">mpf</span><span class="p">(</span><span class="mf">10</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ceil</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="mf">2</span><span class="p">)))</span>
<span class="go">(4, 4, 4, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mag</span><span class="p">(</span><span class="mf">10</span><span class="n">j</span><span class="p">),</span> <span class="n">mag</span><span class="p">(</span><span class="mf">10</span><span class="o">+</span><span class="mf">10</span><span class="n">j</span><span class="p">)</span>
<span class="go">(4, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mag</span><span class="p">(</span><span class="mf">0.01</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ceil</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">2</span><span class="p">)))</span>
<span class="go">(-6, -6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mag</span><span class="p">(</span><span class="mf">0</span><span class="p">),</span> <span class="n">mag</span><span class="p">(</span><span class="n">inf</span><span class="p">),</span> <span class="n">mag</span><span class="p">(</span><span class="o">-</span><span class="n">inf</span><span class="p">),</span> <span class="n">mag</span><span class="p">(</span><span class="n">nan</span><span class="p">)</span>
<span class="go">(-inf, +inf, +inf, nan)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="nint-distance">
<h3><tt class="xref docutils literal"><span class="pre">nint_distance()</span></tt><a class="headerlink" href="#nint-distance" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.nint_distance">
<tt class="descclassname">mpmath.</tt><tt class="descname">nint_distance</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#mpmath.nint_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <img class="math" src="_images/math/dfd7fa6e1a8950c5553eb1d09bb7f5a340a1448c.png" alt="(n,d)"/> where <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> is the nearest integer to <img class="math" src="_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> and <img class="math" src="_images/math/96ab646de7704969b91c76a214126b45f2b07b25.png" alt="d"/> is
an estimate of <img class="math" src="_images/math/c4f44765615a6dfb72a993d9b6c0a36bfdae1b9c.png" alt="\log_2(|x-n|)"/>. If <img class="math" src="_images/math/308a615529780b45955ff5da5f91e2486a512558.png" alt="d &lt; 0"/>, <img class="math" src="_images/math/cd54970c2897e4fb551abb2dd7e1c481b2fd74fe.png" alt="-d"/> gives the precision
(measured in bits) lost to cancellation when computing <img class="math" src="_images/math/a14d33f93b7df89cb2b6370779eeccbff13faaa7.png" alt="x-n"/>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nint_distance</span><span class="p">(</span><span class="mf">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span>
<span class="go">5 -inf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nint_distance</span><span class="p">(</span><span class="n">mpf</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span>
<span class="go">5 -inf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nint_distance</span><span class="p">(</span><span class="n">mpf</span><span class="p">(</span><span class="mf">5.00000001</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span>
<span class="go">5 -26</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nint_distance</span><span class="p">(</span><span class="n">mpf</span><span class="p">(</span><span class="mf">4.99999999</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span>
<span class="go">5 -26</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nint_distance</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="mf">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span>
<span class="go">5 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nint_distance</span><span class="p">(</span><span class="n">mpc</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="mf">0.000001</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span>
<span class="go">5 -19</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="number-generation">
<h2>Number generation<a class="headerlink" href="#number-generation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fraction">
<h3><tt class="xref docutils literal"><span class="pre">fraction()</span></tt><a class="headerlink" href="#fraction" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.fraction">
<tt class="descclassname">mpmath.</tt><tt class="descname">fraction</tt><big>(</big><em>p</em>, <em>q</em><big>)</big><a class="headerlink" href="#mpmath.fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Given Python integers <img class="math" src="_images/math/e148d95e9a2349eff0d0ccd1ec50ace5fa25269b.png" alt="(p, q)"/>, returns a lazy <tt class="docutils literal"><span class="pre">mpf</span></tt> representing
the fraction <img class="math" src="_images/math/a9868fbf23bed343deebad0af0b21b1ceef79889.png" alt="p/q"/>. The value is updated with the precision.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">fraction</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">mpf</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">/</span><span class="mf">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span><span class="p">;</span> <span class="k">print</span> <span class="n">b</span>
<span class="go">0.01</span>
<span class="go">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span><span class="p">;</span> <span class="k">print</span> <span class="n">b</span>      <span class="c"># a will be accurate</span>
<span class="go">0.01</span>
<span class="go">0.0100000000000000002081668171172</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="rand">
<h3><tt class="xref docutils literal"><span class="pre">rand()</span></tt><a class="headerlink" href="#rand" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.rand">
<tt class="descclassname">mpmath.</tt><tt class="descname">rand</tt><big>(</big><big>)</big><a class="headerlink" href="#mpmath.rand" title="Permalink to this definition">¶</a></dt>
<dd>Returns an <tt class="docutils literal"><span class="pre">mpf</span></tt> with value chosen randomly from <img class="math" src="_images/math/0004bfe2d7fa21b99eaf702d39b6de356c7915a9.png" alt="[0, 1)"/>.
The number of randomly generated bits in the mantissa is equal
to the working precision.</dd></dl>

</div>
<div class="section" id="arange">
<h3><tt class="xref docutils literal"><span class="pre">arange()</span></tt><a class="headerlink" href="#arange" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.arange">
<tt class="descclassname">mpmath.</tt><tt class="descname">arange</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#mpmath.arange" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a generalized version of Python&#8217;s <tt class="xref docutils literal"><span class="pre">range()</span></tt> function
that accepts fractional endpoints and step sizes and
returns a list of <tt class="docutils literal"><span class="pre">mpf</span></tt> instances. Like <tt class="xref docutils literal"><span class="pre">range()</span></tt>,
<a title="mpmath.arange" class="reference internal" href="#mpmath.arange"><tt class="xref docutils literal"><span class="pre">arange()</span></tt></a> can be called with 1, 2 or 3 arguments:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">arange(b)</span></tt></dt>
<dd><img class="math" src="_images/math/f4f3f3da357241ed0fe1de12ae41910fd1fbb1fa.png" alt="[0, 1, 2, \ldots, x]"/></dd>
<dt><tt class="docutils literal"><span class="pre">arange(a,</span> <span class="pre">b)</span></tt></dt>
<dd><img class="math" src="_images/math/3e12c399ade7698c99e1a3cb956f9d043dccbabf.png" alt="[a, a+1, a+2, \ldots, x]"/></dd>
<dt><tt class="docutils literal"><span class="pre">arange(a,</span> <span class="pre">b,</span> <span class="pre">h)</span></tt></dt>
<dd><img class="math" src="_images/math/b7d8bef6211ebc4887f58a2c92ebf03926f01dbb.png" alt="[a, a+h, a+h, \ldots, x]"/></dd>
</dl>
<p>where <img class="math" src="_images/math/9dda2cf8604aa691b7265bf653f0c666dc45cf85.png" alt="b-1 \le x &lt; b"/> (in the third case, <img class="math" src="_images/math/8dd8fd980333869d476d326a6e19831ac9732e4e.png" alt="b-h \le x &lt; b"/>).</p>
<p>Like Python&#8217;s <tt class="xref docutils literal"><span class="pre">range()</span></tt>, the endpoint is not included. To
produce ranges where the endpoint is included, <a title="mpmath.linspace" class="reference internal" href="#mpmath.linspace"><tt class="xref docutils literal"><span class="pre">linspace()</span></tt></a>
is more convenient.</p>
<p><strong>Examples</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arange</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span>
<span class="go">[mpf(&#39;0.0&#39;), mpf(&#39;1.0&#39;), mpf(&#39;2.0&#39;), mpf(&#39;3.0&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arange</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
<span class="go">[mpf(&#39;1.0&#39;), mpf(&#39;1.25&#39;), mpf(&#39;1.5&#39;), mpf(&#39;1.75&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arange</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">)</span>
<span class="go">[mpf(&#39;1.0&#39;), mpf(&#39;0.25&#39;), mpf(&#39;-0.5&#39;)]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="linspace">
<h3><tt class="xref docutils literal"><span class="pre">linspace()</span></tt><a class="headerlink" href="#linspace" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.linspace">
<tt class="descclassname">mpmath.</tt><tt class="descname">linspace</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.linspace" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">linspace(a,</span> <span class="pre">b,</span> <span class="pre">n)</span></tt> returns a list of <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> evenly spaced
samples from <img class="math" src="_images/math/c7d457e388298246adb06c587bccd419ea67f7e8.png" alt="a"/> to <img class="math" src="_images/math/8136a7ef6a03334a7246df9097e5bcc31ba33fd2.png" alt="b"/>. The syntax <tt class="docutils literal"><span class="pre">linspace(mpi(a,b),</span> <span class="pre">n)</span></tt>
is also valid.</p>
<p>This function is often more convenient than <a title="mpmath.arange" class="reference internal" href="#mpmath.arange"><tt class="xref docutils literal"><span class="pre">arange()</span></tt></a>
for partitioning an interval into subintervals, since
the endpoint is included:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linspace</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">4</span><span class="p">)</span>
<span class="go">[mpf(&#39;1.0&#39;), mpf(&#39;2.0&#39;), mpf(&#39;3.0&#39;), mpf(&#39;4.0&#39;)]</span>
</pre></div>
</div>
<p>You may also provide the keyword argument <tt class="docutils literal"><span class="pre">endpoint=False</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">linspace</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[mpf(&#39;1.0&#39;), mpf(&#39;1.75&#39;), mpf(&#39;2.5&#39;), mpf(&#39;3.25&#39;)]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="precision-management">
<h2>Precision management<a class="headerlink" href="#precision-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="autoprec">
<h3><tt class="xref docutils literal"><span class="pre">autoprec()</span></tt><a class="headerlink" href="#autoprec" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.autoprec">
<tt class="descclassname">mpmath.</tt><tt class="descname">autoprec</tt><big>(</big><em>ctx</em>, <em>f</em>, <em>maxprec=None</em>, <em>catch=()</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#mpmath.autoprec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a wrapped copy of <em>f</em> that repeatedly evaluates <em>f</em>
with increasing precision until the result converges to the
full precision used at the point of the call.</p>
<p>This heuristically protects against rounding errors, at the cost of
roughly a 2x slowdown compared to manually setting the optimal
precision. This method can, however, easily be fooled if the results
from <em>f</em> depend &#8220;discontinuously&#8221; on the precision, for instance
if catastrophic cancellation can occur. Therefore, <a title="mpmath.autoprec" class="reference internal" href="#mpmath.autoprec"><tt class="xref docutils literal"><span class="pre">autoprec()</span></tt></a>
should be used judiciously.</p>
<p><strong>Examples</strong></p>
<p>Many functions are sensitive to perturbations of the input arguments.
If the arguments are decimal numbers, they may have to be converted
to binary at a much higher precision. If the amount of required
extra precision is unknown, <a title="mpmath.autoprec" class="reference internal" href="#mpmath.autoprec"><tt class="xref docutils literal"><span class="pre">autoprec()</span></tt></a> is convenient:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">besselj</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span> <span class="mf">125</span> <span class="o">*</span> <span class="mf">10</span><span class="o">**</span><span class="mf">28</span><span class="p">)</span>    <span class="c"># Exact input</span>
<span class="go">-8.03284785591801e-17</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">besselj</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span> <span class="s">&#39;1.25e30&#39;</span><span class="p">)</span>   <span class="c"># Bad</span>
<span class="go">7.12954868316652e-16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autoprec</span><span class="p">(</span><span class="n">besselj</span><span class="p">)(</span><span class="mf">5</span><span class="p">,</span> <span class="s">&#39;1.25e30&#39;</span><span class="p">)</span>   <span class="c"># Good</span>
<span class="go">-8.03284785591801e-17</span>
</pre></div>
</div>
<p>The following fails to converge because <img class="math" src="_images/math/bc8c56e18c28175a4a53923b2b1f4337e6590928.png" alt="\sin(\pi) = 0"/> whereas all
finite-precision approximations of <img class="math" src="_images/math/f2ca003a7da0de4994b4733e203b74ff52d42553.png" alt="\pi"/> give nonzero values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">autoprec</span><span class="p">(</span><span class="n">sin</span><span class="p">)(</span><span class="n">pi</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NoConvergence: autoprec</span>: <span class="n-Identifier">prec increased to 2910 without convergence</span>
</pre></div>
</div>
<p>As the following example shows, <a title="mpmath.autoprec" class="reference internal" href="#mpmath.autoprec"><tt class="xref docutils literal"><span class="pre">autoprec()</span></tt></a> can protect against
cancellation, but is fooled by too severe cancellation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mf">1e-10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">;</span> <span class="n">expm1</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="n">autoprec</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">exp</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1.00000008274037e-10</span>
<span class="go">1.00000000005e-10</span>
<span class="go">1.00000000005e-10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mf">1e-50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">;</span> <span class="n">expm1</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="n">autoprec</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">exp</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="go">1.0e-50</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>With <em>catch</em>, an exception or list of exceptions to intercept
may be specified. The raised exception is interpreted
as signaling insufficient precision. This permits, for example,
evaluating a function where a too low precision results in a
division by zero:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">1</span><span class="o">/</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mf">1e-30</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ZeroDivisionError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autoprec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">catch</span><span class="o">=</span><span class="ne">ZeroDivisionError</span><span class="p">)(</span><span class="mf">1e-30</span><span class="p">)</span>
<span class="go">1.0e+30</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="workprec">
<h3><tt class="xref docutils literal"><span class="pre">workprec()</span></tt><a class="headerlink" href="#workprec" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.workprec">
<tt class="descclassname">mpmath.</tt><tt class="descname">workprec</tt><big>(</big><em>ctx</em>, <em>n</em>, <em>normalize_output=False</em><big>)</big><a class="headerlink" href="#mpmath.workprec" title="Permalink to this definition">¶</a></dt>
<dd><p>The block</p>
<blockquote>
<dl class="docutils">
<dt>with workprec(n):</dt>
<dd>&lt;code&gt;</dd>
</dl>
</blockquote>
<p>sets the precision to n bits, executes &lt;code&gt;, and then restores
the precision.</p>
<p>workprec(n)(f) returns a decorated version of the function f
that sets the precision to n bits before execution,
and restores the precision afterwards. With normalize_output=True,
it rounds the return value to the parent precision.</p>
</dd></dl>

</div>
<div class="section" id="workdps">
<h3><tt class="xref docutils literal"><span class="pre">workdps()</span></tt><a class="headerlink" href="#workdps" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.workdps">
<tt class="descclassname">mpmath.</tt><tt class="descname">workdps</tt><big>(</big><em>ctx</em>, <em>n</em>, <em>normalize_output=False</em><big>)</big><a class="headerlink" href="#mpmath.workdps" title="Permalink to this definition">¶</a></dt>
<dd>This function is analogous to workprec (see documentation)
but changes the decimal precision instead of the number of bits.</dd></dl>

</div>
<div class="section" id="extraprec">
<h3><tt class="xref docutils literal"><span class="pre">extraprec()</span></tt><a class="headerlink" href="#extraprec" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.extraprec">
<tt class="descclassname">mpmath.</tt><tt class="descname">extraprec</tt><big>(</big><em>ctx</em>, <em>n</em>, <em>normalize_output=False</em><big>)</big><a class="headerlink" href="#mpmath.extraprec" title="Permalink to this definition">¶</a></dt>
<dd><p>The block</p>
<blockquote>
<dl class="docutils">
<dt>with extraprec(n):</dt>
<dd>&lt;code&gt;</dd>
</dl>
</blockquote>
<p>increases the precision n bits, executes &lt;code&gt;, and then
restores the precision.</p>
<p>extraprec(n)(f) returns a decorated version of the function f
that increases the working precision by n bits before execution,
and restores the parent precision afterwards. With
normalize_output=True, it rounds the return value to the parent
precision.</p>
</dd></dl>

</div>
<div class="section" id="extradps">
<h3><tt class="xref docutils literal"><span class="pre">extradps()</span></tt><a class="headerlink" href="#extradps" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.extradps">
<tt class="descclassname">mpmath.</tt><tt class="descname">extradps</tt><big>(</big><em>ctx</em>, <em>n</em>, <em>normalize_output=False</em><big>)</big><a class="headerlink" href="#mpmath.extradps" title="Permalink to this definition">¶</a></dt>
<dd>This function is analogous to extraprec (see documentation)
but changes the decimal precision instead of the number of bits.</dd></dl>

</div>
</div>
<div class="section" id="performance-and-debugging">
<h2>Performance and debugging<a class="headerlink" href="#performance-and-debugging" title="Permalink to this headline">¶</a></h2>
<div class="section" id="memoize">
<h3><tt class="xref docutils literal"><span class="pre">memoize()</span></tt><a class="headerlink" href="#memoize" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.memoize">
<tt class="descclassname">mpmath.</tt><tt class="descname">memoize</tt><big>(</big><em>ctx</em>, <em>f</em><big>)</big><a class="headerlink" href="#mpmath.memoize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a wrapped copy of <em>f</em> that caches computed values, i.e.
a memoized copy of <em>f</em>. Values are only reused if the cached precision
is equal to or higher than the working precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">maxcalls</span><span class="p">(</span><span class="n">sin</span><span class="p">,</span> <span class="mf">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span>
<span class="go">0.909297426825682</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span>
<span class="go">0.909297426825682</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NoConvergence: maxcalls</span>: <span class="n-Identifier">function evaluated 1 times</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="maxcalls">
<h3><tt class="xref docutils literal"><span class="pre">maxcalls()</span></tt><a class="headerlink" href="#maxcalls" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.maxcalls">
<tt class="descclassname">mpmath.</tt><tt class="descname">maxcalls</tt><big>(</big><em>ctx</em>, <em>f</em>, <em>N</em><big>)</big><a class="headerlink" href="#mpmath.maxcalls" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a wrapped copy of <em>f</em> that raises <tt class="docutils literal"><span class="pre">NoConvergence</span></tt> when <em>f</em>
has been called more than <em>N</em> times:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxcalls</span><span class="p">(</span><span class="n">sin</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">sum</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">10</span><span class="p">))</span>
<span class="go">1.95520948210738</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NoConvergence: maxcalls</span>: <span class="n-Identifier">function evaluated 10 times</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="monitor">
<h3><tt class="xref docutils literal"><span class="pre">monitor()</span></tt><a class="headerlink" href="#monitor" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.monitor">
<tt class="descclassname">mpmath.</tt><tt class="descname">monitor</tt><big>(</big><em>f</em>, <em>input='print'</em>, <em>output='print'</em><big>)</big><a class="headerlink" href="#mpmath.monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a wrapped copy of <em>f</em> that monitors evaluation by calling
<em>input</em> with every input (<em>args</em>, <em>kwargs</em>) passed to <em>f</em> and
<em>output</em> with every value returned from <em>f</em>. The default action
(specify using the special string value <tt class="docutils literal"><span class="pre">'print'</span></tt>) is to print
inputs and outputs to stdout, along with the total evaluation
count:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">mpmath</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">5</span><span class="p">;</span> <span class="n">mp</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">monitor</span><span class="p">(</span><span class="n">exp</span><span class="p">),</span> <span class="mf">1</span><span class="p">)</span>   <span class="c"># diff will eval f(x-h) and f(x+h)</span>
<span class="go">in  0 (mpf(&#39;0.99999999906867742538452148&#39;),) {}</span>
<span class="go">out 0 mpf(&#39;2.7182818259274480055282064&#39;)</span>
<span class="go">in  1 (mpf(&#39;1.0000000009313225746154785&#39;),) {}</span>
<span class="go">out 1 mpf(&#39;2.7182818309906424675501024&#39;)</span>
<span class="go">mpf(&#39;2.7182808&#39;)</span>
</pre></div>
</div>
<p>To disable either the input or the output handler, you may
pass <em>None</em> as argument.</p>
<p>Custom input and output handlers may be used e.g. to store
results for later analysis:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="mf">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">input</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">findroot</span><span class="p">(</span><span class="n">monitor</span><span class="p">(</span><span class="n">sin</span><span class="p">,</span> <span class="nb">input</span><span class="o">.</span><span class="n">append</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">),</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="go">mpf(&#39;3.1415926535897932&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>  <span class="c"># Count number of evaluations</span>
<span class="go">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">input</span><span class="p">[</span><span class="mf">3</span><span class="p">],</span> <span class="n">output</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span>
<span class="go">((mpf(&#39;3.1415076583334066&#39;),), {}) 8.49952562843408e-5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">input</span><span class="p">[</span><span class="mf">4</span><span class="p">],</span> <span class="n">output</span><span class="p">[</span><span class="mf">4</span><span class="p">]</span>
<span class="go">((mpf(&#39;3.1415928201669122&#39;),), {}) -1.66577118985331e-7</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="timing">
<h3><tt class="xref docutils literal"><span class="pre">timing()</span></tt><a class="headerlink" href="#timing" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mpmath.timing">
<tt class="descclassname">mpmath.</tt><tt class="descname">timing</tt><big>(</big><em>f</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#mpmath.timing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns time elapsed for evaluating <tt class="docutils literal"><span class="pre">f()</span></tt>. Optionally arguments
may be passed to time the execution of <tt class="docutils literal"><span class="pre">f(*args,</span> <span class="pre">**kwargs)</span></tt>.</p>
<p>If the first call is very quick, <tt class="docutils literal"><span class="pre">f</span></tt> is called
repeatedly and the best time is returned.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Utility functions</a><ul>
<li><a class="reference external" href="#conversion-and-printing">Conversion and printing</a><ul>
<li><a class="reference external" href="#mpmathify-convert"><tt class="docutils literal"><span class="pre">mpmathify()</span></tt> / <tt class="docutils literal"><span class="pre">convert()</span></tt></a></li>
<li><a class="reference external" href="#nstr"><tt class="docutils literal"><span class="pre">nstr()</span></tt></a></li>
<li><a class="reference external" href="#nprint"><tt class="docutils literal"><span class="pre">nprint()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#arithmetic-operations">Arithmetic operations</a><ul>
<li><a class="reference external" href="#fadd"><tt class="docutils literal"><span class="pre">fadd()</span></tt></a></li>
<li><a class="reference external" href="#fsub"><tt class="docutils literal"><span class="pre">fsub()</span></tt></a></li>
<li><a class="reference external" href="#fneg"><tt class="docutils literal"><span class="pre">fneg()</span></tt></a></li>
<li><a class="reference external" href="#fmul"><tt class="docutils literal"><span class="pre">fmul()</span></tt></a></li>
<li><a class="reference external" href="#fdiv"><tt class="docutils literal"><span class="pre">fdiv()</span></tt></a></li>
<li><a class="reference external" href="#fmod"><tt class="docutils literal"><span class="pre">fmod()</span></tt></a></li>
<li><a class="reference external" href="#fsum"><tt class="docutils literal"><span class="pre">fsum()</span></tt></a></li>
<li><a class="reference external" href="#fprod"><tt class="docutils literal"><span class="pre">fprod()</span></tt></a></li>
<li><a class="reference external" href="#fdot"><tt class="docutils literal"><span class="pre">fdot()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#complex-components">Complex components</a><ul>
<li><a class="reference external" href="#fabs"><tt class="docutils literal"><span class="pre">fabs()</span></tt></a></li>
<li><a class="reference external" href="#sign"><tt class="docutils literal"><span class="pre">sign()</span></tt></a></li>
<li><a class="reference external" href="#re"><tt class="docutils literal"><span class="pre">re()</span></tt></a></li>
<li><a class="reference external" href="#im"><tt class="docutils literal"><span class="pre">im()</span></tt></a></li>
<li><a class="reference external" href="#arg"><tt class="docutils literal"><span class="pre">arg()</span></tt></a></li>
<li><a class="reference external" href="#conj"><tt class="docutils literal"><span class="pre">conj()</span></tt></a></li>
<li><a class="reference external" href="#polar"><tt class="docutils literal"><span class="pre">polar()</span></tt></a></li>
<li><a class="reference external" href="#rect"><tt class="docutils literal"><span class="pre">rect()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#integer-and-fractional-parts">Integer and fractional parts</a><ul>
<li><a class="reference external" href="#floor"><tt class="docutils literal"><span class="pre">floor()</span></tt></a></li>
<li><a class="reference external" href="#ceil"><tt class="docutils literal"><span class="pre">ceil()</span></tt></a></li>
<li><a class="reference external" href="#nint"><tt class="docutils literal"><span class="pre">nint()</span></tt></a></li>
<li><a class="reference external" href="#frac"><tt class="docutils literal"><span class="pre">frac()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#tolerances-and-approximate-comparisons">Tolerances and approximate comparisons</a><ul>
<li><a class="reference external" href="#chop"><tt class="docutils literal"><span class="pre">chop()</span></tt></a></li>
<li><a class="reference external" href="#almosteq"><tt class="docutils literal"><span class="pre">almosteq()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#properties-of-numbers">Properties of numbers</a><ul>
<li><a class="reference external" href="#isinf"><tt class="docutils literal"><span class="pre">isinf()</span></tt></a></li>
<li><a class="reference external" href="#isnan"><tt class="docutils literal"><span class="pre">isnan()</span></tt></a></li>
<li><a class="reference external" href="#isnormal"><tt class="docutils literal"><span class="pre">isnormal()</span></tt></a></li>
<li><a class="reference external" href="#isint"><tt class="docutils literal"><span class="pre">isint()</span></tt></a></li>
<li><a class="reference external" href="#ldexp"><tt class="docutils literal"><span class="pre">ldexp()</span></tt></a></li>
<li><a class="reference external" href="#frexp"><tt class="docutils literal"><span class="pre">frexp()</span></tt></a></li>
<li><a class="reference external" href="#mag"><tt class="docutils literal"><span class="pre">mag()</span></tt></a></li>
<li><a class="reference external" href="#nint-distance"><tt class="docutils literal"><span class="pre">nint_distance()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#number-generation">Number generation</a><ul>
<li><a class="reference external" href="#fraction"><tt class="docutils literal"><span class="pre">fraction()</span></tt></a></li>
<li><a class="reference external" href="#rand"><tt class="docutils literal"><span class="pre">rand()</span></tt></a></li>
<li><a class="reference external" href="#arange"><tt class="docutils literal"><span class="pre">arange()</span></tt></a></li>
<li><a class="reference external" href="#linspace"><tt class="docutils literal"><span class="pre">linspace()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#precision-management">Precision management</a><ul>
<li><a class="reference external" href="#autoprec"><tt class="docutils literal"><span class="pre">autoprec()</span></tt></a></li>
<li><a class="reference external" href="#workprec"><tt class="docutils literal"><span class="pre">workprec()</span></tt></a></li>
<li><a class="reference external" href="#workdps"><tt class="docutils literal"><span class="pre">workdps()</span></tt></a></li>
<li><a class="reference external" href="#extraprec"><tt class="docutils literal"><span class="pre">extraprec()</span></tt></a></li>
<li><a class="reference external" href="#extradps"><tt class="docutils literal"><span class="pre">extradps()</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#performance-and-debugging">Performance and debugging</a><ul>
<li><a class="reference external" href="#memoize"><tt class="docutils literal"><span class="pre">memoize()</span></tt></a></li>
<li><a class="reference external" href="#maxcalls"><tt class="docutils literal"><span class="pre">maxcalls()</span></tt></a></li>
<li><a class="reference external" href="#monitor"><tt class="docutils literal"><span class="pre">monitor()</span></tt></a></li>
<li><a class="reference external" href="#timing"><tt class="docutils literal"><span class="pre">timing()</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="contexts.html"
                                  title="previous chapter">Contexts</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="plotting.html"
                                  title="next chapter">Plotting</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/general.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting"
             >next</a> |</li>
        <li class="right" >
          <a href="contexts.html" title="Contexts"
             >previous</a> |</li>
        <li><a href="index.html">mpmath v0.15 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Fredrik Johansson.
      Last updated on Jun 15, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.5.
    </div>
  </body>
</html>